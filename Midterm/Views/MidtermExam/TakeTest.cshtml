@using Midterm
@model List<TestQuestionModel>
@Html.ValidationSummary()
@*TODO: Form needs to use tag helpers to post to the "TakeTest" action *@
<h1>Taking the Test</h1>
<form asp-action="TakeTest" asp-controller="MidtermExamController">
    @Html.AntiForgeryToken()
    @for (int i = 0; i < Model.Count; i++)
    {
        if (Model[i] is TrueFalseQuestionModel)
        {
            
            <h2 asp-for="@Model[i].ID" style="display:hidden"></h2>
            <h2>@Model[i].ID: @Model[i].Question</h2>
            <select asp-for="@Model[i].Answer" class="form-select" id="@Model[i].ID">
                <option value="">--Select--</option>
                <option value="true">True</option>
                <option value="false">False</option>
            </select>
            <span asp-validation-for="@Model[i].Answer"></span>
        }
        if (Model[i] is MultipleChoiceQuestionModel)
        {
            <h2>@Model[i].ID: @Model[i].Question</h2>

            @foreach (string choice in Model[i].Choices)
            {
                <input type="radio" asp-for="@(Model[i].Answer)" value="@choice" id="@i: @choice" />
                <label for="choice-@choice">@choice</label>
            }
            <span asp-validation-for="@Model[i].Answer"></span>
        }
        if (Model[i] is ShortAnswerQuestionModel)
        {
            <h2 asp-for="@Model[i].ID" style="display:hidden"></h2>
            <h2>@Model[i].ID: @Model[i].Question</h2>
            <input type="text" asp-for="@Model[i].Answer" class="form-control" />
            <span asp-validation-for="@Model[i].Answer"></span>
        }
        if (Model[i] is LongAnswerQuestionModel)
        {
            <h2 asp-for="@Model[i].ID" style="display:hidden"></h2>
            <h2>@Model[i].ID: @Model[i].Question</h2>
            <textarea asp-for="@Model[i].Answer" class="form-control"></textarea>
            <span asp-validation-for="@Model[i].Answer"></span>
        }
    @*TODO: Add rending of other question types here.*@
    
}
<button type="submit" class="btn btn-primary">Submit Test</button>
</form>